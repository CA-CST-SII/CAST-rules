<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />

<meta http-equiv="Content-Language" content="en">
<title>Never use the ON CHANGE OF statement</title>
<link rel="stylesheet" href="../../../files/helpindex.css" type=
"text/css">
<link rel="stylesheet" href="../../../default.css" type="text/css">

<script type="text/JavaScript" src="../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "60005/66069/7528.htm";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../index.html?page=cast%20rules%2F60005%2F66069%2F7528.htm\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../index.html?page=cast%20rules%2F60005%2F66069%2F7528.htm\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<h4>Never use the ON CHANGE OF statement</h4>

<hr>

<h5>Technology</h5>

<p>ABAP</p>

<h5>Unified Status</h5>

<p>N/A</p>

<h5>XXL Status</h5>

<p>N/A</p>

<h5>Critical Quality Rule</h5>

<p>No</p>

<h5>Weight in Parent Tech. Criterion</h5>

<p>9</p>

<h5>Rationale</h5>

<p>The ON CHANGE OF statement can prove dangerous and is often
misunderstood. Also, troubleshooting problems created by inadequate
use of ON CHANGE OF statement can often be time-consuming because
such errors are very difficult to reproduce and often appear to be
random ones. Indeed, the use of the ON CHANGE OF statement is not
suitable within functions or subroutines as many developers expect
the comparison field's value to be reset for every new function
call which is not the case. The control structure ON CHANGE OF -
ENDON is not allowed in ABAP Objects, i.e. in a method.</p>

<h5>Description</h5>

<p>This metric retrieves all ABAP artifacts using the ON CHANGE OF
statement.</p>

<h5>Remediation</h5>

<p>You can replace the ON CHANGE OF statements by explicitly
programming the comparisons with IF statements.</p>

<h5>Reference</h5>

<p>Enhancing the Quality of ABAP Development,
Meijs-Krouwels-Heulmans-Sommen, SAP Press Page 98</p>

<h5>Sample</h5>

<pre>
LOOP AT ts_invoices INTO wa_invoices
  ON CHANGE OF wa_invoices-matnr.
...
  ENDON.
ENDLOOP.
</pre>

<h5>Remediation sample</h5>

<pre>
Remediation example:

LOOP AT ts_invoices INTO wa_invoices
  IF wa_invoices-matnr NE ltp_matnr_old.
    Ltp_matnr_old = wa_invoices-matnr.
...
  ENDIF.
ENDLOOP.
</pre>

<h5>Output</h5>

<p>Associated to each ABAP Artifact with violations, the Quality
Rule provides: - The number of violation patterns</p>

<h5>Total</h5>

<p>Number of ABAP Artifacts</p>

<h5>Metric ID</h5>

<p>7528</p>

<hr>

<p align="right"><a href="http://www.castsoftware.com" target=
"_blank"><img border="0" src="../../cast.gif" alt="CAST Website"
width="174" height="21"></a>
</p>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("cast rules/" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
