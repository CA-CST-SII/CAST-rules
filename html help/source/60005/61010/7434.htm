<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />

<meta http-equiv="Content-Language" content="en">
<title>Avoid classes overriding only equals() or only
hashCode()</title>
<link rel="stylesheet" href="../../../files/helpindex.css" type=
"text/css">
<link rel="stylesheet" href="../../../default.css" type="text/css">

<script type="text/JavaScript" src="../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "60005/61010/7434.htm";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../index.html?page=source%2F60005%2F61010%2F7434.htm\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../index.html?page=source%2F60005%2F61010%2F7434.htm\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<h4>Avoid classes overriding only equals() or only hashCode()</h4>

<hr>

<h5>Technology</h5>

<p>JEE</p>

<h5>Unified Status</h5>

<p>N/A</p>

<h5>XXL Status</h5>

<p>N/A</p>

<h5>Critical Quality Rule</h5>

<p>Yes</p>

<h5>Weight in Parent Tech. Criterion</h5>

<p>9</p>

<h5>Rationale</h5>

<p>Often classes are used in HashMap to provide an efficient
storage and retrieval. The Java platform architects anticipated the
importance of hash-based collection classes -- such as Hashtable,
HashMap, and HashSet -- in typical Java applications, and comparing
against many objects with equals() can be computationally
expensive. If your java class is used or can be used in a
hash-based collection, override both of these methods to avoid any
issues that can be painful to find when the issue appear in
production because the error is not in the code that is present,
but in the code that is absent.</p>

<h5>Description</h5>

<p>Report all classes that override only boolean equals(Object) or
only int hashCode()</p>

<h5>Remediation</h5>

<p>Override both methods.</p>

<h5>Reference</h5>

<p>
http://www-128.ibm.com/developerworks/java/library/j-jtp05273.html</p>

<h5>Sample</h5>

<pre>
class Example {
   int id;

   public int getId() {
      return id;
   }
    public boolean equals(Object obj) { 
         return (obj instanceof Example 
            &amp;&amp; id == ((Example) obj).getId()); 
   }
       // VIOLATION: missing hashCode()
}
</pre>

<h5>Remediation sample</h5>

<pre>
class Example {
   int id;

   public int getId() {
      return id;
   }
    public boolean equals(Object obj) { 
         return (obj instanceof Example 
            &amp;&amp; id == ((Example) obj).getId()); 
   }
   public int hashCode() {  // FIXED
       return id/10;
   }
}
</pre>

<h5>Output</h5>

<p>This report lists all classes that implement only equals() or
only hashCode() It provides the following information: Class full
name</p>

<h5>Total</h5>

<p>all classes that override equals() or (not exclusive)
hashCode()</p>

<h5>Metric ID</h5>

<p>7434</p>

<hr>

<p align="right"><a href="http://www.castsoftware.com" target=
"_blank"><img border="0" src="../../cast.gif" alt="CAST Website"
width="174" height="21"></a>
</p>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
