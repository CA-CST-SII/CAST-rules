<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />

<meta http-equiv="Content-Language" content="en">
<title>Avoid using 'class' or 'struct' parameters with variadic
Functions</title>
<link rel="stylesheet" href="../../../files/helpindex.css" type=
"text/css">
<link rel="stylesheet" href="../../../default.css" type="text/css">

<script type="text/JavaScript" src="../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "60005/66069/8074.htm";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../index.html?page=source%2F60005%2F66069%2F8074.htm\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../index.html?page=source%2F60005%2F66069%2F8074.htm\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<h4>Avoid using 'class' or 'struct' parameters with variadic
Functions</h4>

<hr>

<h5>Technology</h5>

<p>C Language, C++</p>

<h5>Unified Status</h5>

<p>N/A</p>

<h5>XXL Status</h5>

<p>N/A</p>

<h5>Critical Quality Rule</h5>

<p>No</p>

<h5>Weight in Parent Tech. Criterion</h5>

<p>6</p>

<h5>Rationale</h5>

<p>Variadic functions are functions that accept a variable number
of arguments, such as 'printf()' and 'format()'. They are declared
with an ellipsis ('...'): Ex: int printf ( const char * format, ...
); These functions can be only used with scalar data types C-style
structs. Using them with other data types will lead to unexpected
behavior.</p>

<h5>Description</h5>

<p>This rule searches for C/C++ functions that pass class instances
to variadic functions.</p>

<h5>Remediation</h5>

<p>Review the parameters used to call these functions and try to
replace them with native types. One alternative is to use non
variadic functions that can allow for more data types.</p>

<h5>Sample</h5>

<pre>
void showError(std::string const &amp;errorMsg)
{
    printf("Error: %s", errorMsg);
}
</pre>

<h5>Remediation sample</h5>

<pre>
You can correct this code by accessing a 0-terminated 'char*' from the string:

void showError(std::string const &amp;errorMsg)
{
    printf("Error: %s", errorMsg.c_str());
} 

Or by using another display function:

void showError(std::string const &amp;errorMsg)
{
    cout &lt;&lt; "Error: " &lt;&lt; errorMsg;
}
</pre>

<h5>Output</h5>

<p>Associated to each C/C++ function, method, constructor, and
destructor with violations, the Quality Rule provides: - number of
violation patterns - Bookmarks for violation patterns found in
source code: - printf() or format() function call</p>

<h5>Total</h5>

<p>Number of C/C++ functions, constructors, destructors, and
methods</p>

<h5>Metric ID</h5>

<p>8074</p>

<hr>

<p align="right"><a href="http://www.castsoftware.com" target=
"_blank"><img border="0" src="../../cast.gif" alt="CAST Website"
width="174" height="21"></a>
</p>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
