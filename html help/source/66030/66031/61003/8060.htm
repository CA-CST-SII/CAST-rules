<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />

<meta http-equiv="Content-Language" content="en">
<title>A pointer to a base Class shall only be cast to a pointer to
a derived Class by means of 'dynamic_cast'</title>
<link rel="stylesheet" href="../../../../files/helpindex.css" type=
"text/css">
<link rel="stylesheet" href="../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "66030/66031/61003/8060.htm";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../index.html?page=source%2F66030%2F66031%2F61003%2F8060.htm\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../index.html?page=source%2F66030%2F66031%2F61003%2F8060.htm\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<h4>A pointer to a base Class shall only be cast to a pointer to a
derived Class by means of 'dynamic_cast'</h4>

<hr>

<h5>Technology</h5>

<p>C Language, C++</p>

<h5>Unified Status</h5>

<p>N/A</p>

<h5>XXL Status</h5>

<p>N/A</p>

<h5>Critical Quality Rule</h5>

<p>Yes</p>

<h5>Weight in Parent Tech. Criterion</h5>

<p>9</p>

<h5>Rationale</h5>

<p>You can cast from pointer to base to pointer to derived only if
the pointed-to object really is of the derived type (or a type
derived from the derived type). Using a 'static_cast' will always
succeed, even when the pointed-to object is of the wrong type.
Using 'dynamic_cast' will check the real type of this object before
performing the cast and is safer to use. See also rule "Casting
from pointer to base Class to pointer to derived Class should be
done through 'dynamic_cast' or 'static_cast'" (id 8078).
Additionally, casting from a base class to a derived class is often
a sign of base design and should usually be avoided.</p>

<h5>Description</h5>

<p>This rule searches for functions that do not use a
'dynamic_cast' to cast a pointer to a base class to a pointer to a
derived class.</p>

<h5>Remediation</h5>

<p>Use 'dynamic_cast' to cast pointers to base class to pointer to
derived class.</p>

<h5>Reference</h5>

<p>MISRA C++ "C++ coding
standard":http://www.gotw.ca/publications/c++cs.htm
(Sutter/Alexandrescu) Item 93</p>

<h5>Sample</h5>

<pre>
class A
{
};

class B : public A
{
};

void f(A *p)
{
    B* pb = static_cast&lt;B*&gt;(p); // Violation
    // Use pb
}
</pre>

<h5>Remediation sample</h5>

<pre>
void f(A *p)
{
    B* pb = dynamic_cast&lt;B*&gt;(p);
    if (!pb)
    {
        // Not the expected type, handle the error 
    }
    else
    {
        // Use pb
    }
}
</pre>

<h5>Output</h5>

<p>Associated to each C++ method, constructor, and destructor with
violations, the Quality Rule provides: - pointer incorrectly casted
- Bookmarks for violation patterns found in source code: - pointer
cast - source class - target class</p>

<h5>Total</h5>

<p>Number of C++ methods, constructors, and destructors</p>

<h5>Metric ID</h5>

<p>8060</p>

<hr>

<p align="right"><a href="http://www.castsoftware.com" target=
"_blank"><img border="0" src="../../../cast.gif" alt="CAST Website"
width="174" height="21"></a>
</p>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
