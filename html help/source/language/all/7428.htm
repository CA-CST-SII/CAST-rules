<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />

<meta http-equiv="Content-Language" content="en">
<title>Avoid SQL queries not using the first column of a composite
index in the WHERE clause</title>
<link rel="stylesheet" href="../../../files/helpindex.css" type=
"text/css">
<link rel="stylesheet" href="../../../default.css" type="text/css">

<script type="text/JavaScript" src="../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "language/all/7428.htm";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../index.html?page=source%2Flanguage%2Fall%2F7428.htm\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../index.html?page=source%2Flanguage%2Fall%2F7428.htm\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<h4>Avoid SQL queries not using the first column of a composite
index in the WHERE clause</h4>

<hr>

<h5>Technology</h5>

<p>All Languages/Technologies</p>

<h5>Unified Status</h5>

<p>N/A</p>

<h5>XXL Status</h5>

<p>Non-XXL</p>

<h5>Critical Quality Rule</h5>

<p>No</p>

<h5>Weight in Parent Tech. Criterion</h5>

<p>6</p>

<h5>Rationale</h5>

<p>Whenever a query with a WHERE clause does not use the first
column of composite index (multiple column base index), the
database engine will not use the composite index to retrieve the
data, potentially leading to very poor performance.</p>

<h5>Description</h5>

<p>This metric retrieves all client-server artifacts that contain
an SQL query with a WHERE clause not using the first column of
composite index (multiple column base index). The value of the
metric is number of client-server artifacts that contain an SQL
query not using the first column of a composite index divided by
the number of client-server artifacts using a composite index. An
artifacts using a composite index means here artifacts containing a
query that uses at least one column of a compostite index.</p>

<h5>Remediation</h5>

<p>Depending on the context, the user has to evaluate if the fact
that the composite index is not is leading to poor performance. If
the query does not use other indexes, the fact that the query does
not use the first column of a composite index is most probably an
error that needs to be fixed.</p>

<h5>Sample</h5>

<pre>
The table T is defined the 4 following columns : A, B, C, D

The analyzed application  has one artifact that contains the following query : 
SELECT * FROM T WHERE B = 'X'

Example 1 : 
Table T has the following index defined i1 on (A, B, C) columns.
The artifact  will be part of the output of this metric to inform the user that i1 will not be used by the query processor engine. 

Example 2 : 
Table T has the following indexes defined  i2 (B, C) and i3 (B).
The artifact  will not  be part of the output of this metric (first column (i3)  or composite index( i2) is used).

Note  artifact  is part of the scope and is counted by the total procedure.

Example 3 : 
Table T has the following indexes defined  i1 (A, B, C), and i3 (B).
The artifact  will be part of the output of this metric to inform the user that i1 will not be used by the database engine, even if the database engine uses the index i3.

Example 4 :
Table T has the following index defined i3 (B).
The artifact  is ignored by this metric.
</pre>

<h5>Output</h5>

<p>Associated to each artifact with violations, the Quality Rule
provides: - Name of the table having a misused composite index.</p>

<h5>Total</h5>

<p>The total procedure counts the number of client-server artifacts
using tables that contain a query using columns of a composite
index in the WHERE clause of the query.</p>

<h5>Metric ID</h5>

<p>7428</p>

<hr>

<p align="right"><a href="http://www.castsoftware.com" target=
"_blank"><img border="0" src="../../cast.gif" alt="CAST Website"
width="174" height="21"></a>
</p>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
